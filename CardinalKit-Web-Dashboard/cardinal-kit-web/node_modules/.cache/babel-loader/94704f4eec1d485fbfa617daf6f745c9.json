{"ast":null,"code":"import { computed, ref, watch } from 'vue';\nimport { MONTHS, WEEKDAYS } from './const';\nexport default {\n  props: {\n    label: String,\n    showPopup: Boolean,\n    calendar: Boolean,\n    defaultDate: {\n      type: Date,\n      default: new Date()\n    }\n  },\n  emits: ['changeDate'],\n\n  setup(props, ctx) {\n    const defaultDate = computed(() => props.defaultDate);\n    const date = computed(() => `${Number(currentMonth.value) + 1}/${today.value}/${currentYear.value}`);\n    const today = ref(props.defaultDate?.getUTCDate());\n    const currentMonth = ref(props.defaultDate?.getUTCMonth());\n    const currentYear = ref(props.defaultDate?.getUTCFullYear());\n    const days = computed(() => getDayperMonthsandYear(currentYear.value, currentMonth.value));\n    const daysPerWeek = computed(() => getCalendarDaysOfWeek(days.value));\n    const months = ref(MONTHS);\n    const years = computed(() => generateSelectableYears(currentYear.value));\n    watch(defaultDate, () => {\n      today.value = props.defaultDate?.getUTCDate();\n      currentMonth.value = props.defaultDate?.getUTCMonth();\n      currentYear.value = props.defaultDate?.getUTCFullYear();\n    });\n\n    function getDayperMonthsandYear(year, month) {\n      const countDays = new Date(year, Number(month) + 1, 0).getDate();\n      const days = [...Array(countDays).keys()].map(day => getDayofWeek(year, month, day + 1));\n      return days;\n    }\n\n    function getDayofWeek(year, month, day) {\n      const calendarDay = new Date(year, month, day).getDay();\n      return {\n        day,\n        calendarDay\n      };\n    }\n\n    function generateSelectableYears(year) {\n      const countYears = 10;\n      const initYear = year - 3;\n      return [...Array(countYears).keys()].map(index => index + initYear);\n    }\n\n    function getCalendarDaysOfWeek(calendarDays) {\n      let calendar = [];\n      const voidData = calendarDays[0].calendarDay;\n\n      if (voidData > 0) {\n        calendar = [...Array(voidData - 1).fill(0), ...calendarDays];\n      } else {\n        calendar = [0, ...calendarDays];\n      }\n\n      return calendar;\n    }\n\n    function selectedDay(day) {\n      today.value = day;\n      handleChangeDate();\n    }\n\n    function handleChangeDate() {\n      const date = new Date(currentYear.value, currentMonth.value, today.value);\n      ctx.emit('changeDate', date);\n    }\n\n    return {\n      currentMonth,\n      months,\n      today,\n      days,\n      years,\n      currentYear,\n      date,\n      handleChangeDate,\n      WEEKDAYS,\n      daysPerWeek,\n      selectedDay\n    };\n  }\n\n};","map":{"version":3,"sources":["/Users/chrislim/Desktop/USC/Senior Fall/CSCI401/CardinalKit-Web-Dashboard/cardinal-kit-web/src/components/calendar/DatePicker.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"date-picker\">\n    <label class=\"alt-datetime-wrapper\">\n\t\t\t<span v-if=\"label\" class=\"block\">{{label}}</span>\n\t\t\t<input autocomplete=\"off\" class=\"alt-datetime-wrapper__input\" placeholder=\"--/--/--\" type=\"text\" name=\"datetime\" v-model=\"date\"/>\n\t\t</label>\n\t\t<div v-if=\"showPopup\" class=\"alt-popup\">\n\t\t\t<div v-if=\"!calendar\" class=\"alt-date\"> \n\t\t\t\t<div class=\"alt-date-group\">\n\t\t\t\t\t<label class=\"alt-date-group__label\" for=\"days\">\n\t\t\t\t\t\t<span>Day</span>\t\t\t\t\t\t \n\t\t\t\t\t\t<select @change=\"handleChangeDate\" name=\"days\" v-model=\"today\" id=\"days\">\n\t\t\t\t\t\t\t<option v-for=\"(day, index) in days\" :key=\"index + 'alt'\" :value=\"day.day\">{{day.day}}</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"alt-date-group\">\n\t\t\t\t\t<label class=\"alt-date-group__label\" for=\"months\">\n\t\t\t\t\t\t<span>Month</span>\n\t\t\t\t\t<select @change=\"handleChangeDate\" name=\"month\" v-model=\"currentMonth\" id=\"months\">\n\t\t\t\t\t\t<option v-for=\"month in months\" :key=\"month.id\" :value=\"month.id\">{{month.name}}</option>\n\t\t\t\t\t</select>\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"alt-date-group\">\n\t\t\t\t\t<label class=\"alt-date-group__label\" for=\"years\">\n\t\t\t\t\t\t<span>Year</span> \n\t\t\t\t\t\t<select @change=\"handleChangeDate\" name=\"year\" v-model=\"currentYear\" id=\"years\">\n\t\t\t\t\t\t\t<option v-for=\"(year, index) in years\" :key=\"index + 'alt'\" :value=\"year\">{{year}}</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div v-else class=\"alt-calendar\">\n\t\t\t\t<div class=\"alt-calendar-header\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<select class=\"alt-calendar-header__months\" @change=\"handleChangeDate\" name=\"month\" v-model=\"currentMonth\" id=\"months\">\n\t\t\t\t\t\t\t<option v-for=\"month in months\" :key=\"month.id\" :value=\"month.id\">{{month.name}}</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t\t<select class=\"alt-calendar-header__years\" @change=\"handleChangeDate\" name=\"year\" v-model=\"currentYear\" id=\"years\">\n\t\t\t\t\t\t\t<option v-for=\"(year, index) in years\" :key=\"index + 'alt'\" :value=\"year\">{{year}}</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"alt-calendar-body\">\n\t\t\t\t\t<ul class=\"alt-calendar-body__weekdays\">\n\t\t\t\t\t\t<li v-for=\"(day, index) in WEEKDAYS\" :key=\"day\" :value=\"index + 1\">\n\t\t\t\t\t\t\t{{day}}\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t\t<div class=\"alt-calendar-body__days\">\n\t\t\t\t\t\t<span \n\t\t\t\t\t\t\t@click=\"selectedDay(day.day)\" \n\t\t\t\t\t\t\t:class=\"{ active: today === day.day}\" \n\t\t\t\t\t\t\tclass=\"calendar-day\" \n\t\t\t\t\t\t\tv-for=\"(day, index) in daysPerWeek\" :key='index' \n\t\t\t\t\t\t\t:value=\"day.day\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{day.day}}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { computed, ref, watch } from 'vue';\nimport { MONTHS, WEEKDAYS } from './const';\n\nexport default {\nprops: {\n\tlabel: String,\n\tshowPopup: Boolean,\n\tcalendar: Boolean,\n\tdefaultDate: {\n\t\ttype: Date,\n\t\tdefault: new Date()\n\t}\n},\nemits: ['changeDate'],\nsetup(props, ctx)  {\n\tconst defaultDate = computed(() => props.defaultDate)\n\tconst date = computed(()  => `${Number(currentMonth.value) + 1}/${today.value}/${currentYear.value}`);\n\tconst today = ref(props.defaultDate?.getUTCDate());\n\tconst currentMonth = ref(props.defaultDate?.getUTCMonth());\n\tconst currentYear = ref(props.defaultDate?.getUTCFullYear());\n\tconst days = computed(() => getDayperMonthsandYear(currentYear.value, currentMonth.value));\n\tconst daysPerWeek = computed(() => getCalendarDaysOfWeek(days.value));\n\tconst months = ref(MONTHS);\n\tconst years = computed(() => generateSelectableYears(currentYear.value));\n\n\twatch(defaultDate, () => {\n\t\ttoday.value = props.defaultDate?.getUTCDate();\n\t\tcurrentMonth.value = props.defaultDate?.getUTCMonth();\n\t\tcurrentYear.value = props.defaultDate?.getUTCFullYear();\n\t});\n\n\tfunction getDayperMonthsandYear(year, month) {\n\t\tconst countDays = new Date(year, Number(month) + 1, 0).getDate();\n\t\tconst days = [...Array(countDays).keys()].map((day) => getDayofWeek(year, month, day + 1));\n\t\treturn days;\n\t}\n\n\tfunction getDayofWeek(year, month, day) {\n\t\tconst calendarDay = new Date(year, month, day).getDay();\n\t\treturn { day , calendarDay }\n\t}\n\n\tfunction generateSelectableYears(year) {\n\t\tconst countYears = 10;\n\t\tconst initYear = year - 3;\n\t\treturn [...Array(countYears).keys()].map((index) => index + initYear);\n\t}\n\n\tfunction getCalendarDaysOfWeek(calendarDays) {\n\t\tlet calendar = []\n\t\tconst voidData = calendarDays[0].calendarDay;\n\t\tif (voidData > 0){\n\t\t\tcalendar = [...Array(voidData - 1).fill(0), ...calendarDays]\n\t\t}else{\n\t\t\tcalendar = [0, ...calendarDays]\n\t\t}\n\t\treturn calendar\n\t}\n\n\tfunction selectedDay(day) {\n\t\ttoday.value = day;\n\t\thandleChangeDate();\n\t}\n\n\tfunction handleChangeDate() {\n\t\tconst date = new Date(currentYear.value, currentMonth.value, today.value);\n\t\tctx.emit('changeDate', date)\n\t}\n\n\treturn {\n\t\tcurrentMonth,\n\t\tmonths,\n\t\ttoday,\n\t\tdays,\n\t\tyears,\n\t\tcurrentYear,\n\t\tdate,\n\t\thandleChangeDate,\n\t\tWEEKDAYS,\n\t\tdaysPerWeek,\n\t\tselectedDay\n\t}\n}\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.date-picker {\n\tposition: relative;\n}\n.alt-popup {\n\tdisplay: inline-block;\n\tpadding: 1rem;\n\tbackground: white;\n\tborder-radius: 3px;\n\tmargin-top: 15px;\n\tposition: absolute;\n\ttop: 55px;\n \tleft: 0;\n\tz-index: 2;\n\n  &:before {\n    border-left: 6px solid transparent;\n    border-right: 6px solid transparent;\n    border-bottom: 6px solid #fff;\n    top: -6px;\n    content: \"\";\n    height: 0;\n    left: 30%;\n    margin-left: -6px;\n    position: absolute;\n    width: 0;\n  }\n}\n\n.alt-date {\n\tdisplay: flex;\n\tgap: 10px;\n\n  &-group {\n    &__label {\n      \tdisplay: flex;\n\t\tborder: solid 1px#f7f7f7;\n      \tborder-radius: 3px;\n\t\tspan {\n\t\t\tbackground: #f7f7f7;\n\t\t\tpadding: .3rem;\n\t\t}\n\n\t\tselect {\n\t\t\tpadding: .3rem;\n\t\t\tborder: none;\n\t\t}\n    }\n  }\n}\n.alt-datetime-wrapper {\n\t&__input {\n\t\tpadding: .5rem;\n\t\tborder: solid 2px lightgrey;\n\t\tborder-radius: 3px;\n\t\tfont-size: 13pt;\n\t\tdisplay: inline-block;\n\n\t\t&::placeholder {\n\t\t\tcolor: darkgrey;\n\t\t\topacity: 1;\n\t\t}\n\t}\n}\n\n.alt-calendar {\n\t&-header {\n\t\tdiv {\n\t\t\tdisplay: flex;\n\t\t\tgap: 10px;\n\t\t\tjustify-content: center;\n\t\t}\n\t\t&__months, &__years {\n\t\t\tpadding: .5rem;\n\t\t\twidth: 100%;\n\t\t\tborder: none;\n\t\t\tborder-radius: 3px;\n\t\t\toutline: none;\n\t\t\tbackground: #f7f7f7;\n\t\t}\n\t}\n\n\t&-body {\n\t\t&__weekdays {\n\t\t\tlist-style: none;\n\t\t\tpadding: .5rem 0;\n\t\t\tdisplay: grid;\n\t\t\tgap: 10px;\n\t\t\tgrid-template-columns: repeat(7, 1fr);\n\t\t\tcolor: #90a4ae;\n\n\t\t\tli {\n\t\t\t\tmin-width: 32px;\n    \t\ttext-align: center;\n\t\t\t}\n\t\t}\n\t\t&__days {\n\t\t\tdisplay: grid;\n\t\t\tgap: 10px;\n\t\t\tgrid-template-columns: repeat(7, 1fr);\n\n\t\t\t.calendar-day {\n\t\t\t\ttext-align: center;\n\t\t\t\tborder-radius: 3px;\n\t\t\t\tcursor: pointer;\n\t\t\t\tpadding: .2rem 0;\n    \t\tdisplay: flex;\n   \t\t \talign-items: center;\n    \t\tjustify-content: center;\n\n\t\t\t\t&:hover {\n\t\t\t\t\tbackground: #f7f7f7;\n\t\t\t\t}\n\n\t\t\t\t&.active {\n\t\t\t\t\tbackground: crimson;\n\t\t\t\t\tcolor: white;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n</style>"],"sourceRoot":""},"metadata":{},"sourceType":"module"}