{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { mapActions, mapGetters } from \"vuex\";\nimport store from \"@/store\"; //Components\n\nimport studyList from \"@/components/studies/studiesList\";\nimport extraUsers from \"@/components/share/extraUsers\";\nexport default {\n  name: \"Home\",\n  components: {\n    studyList,\n    extraUsers\n  },\n  computed: { ...mapGetters(\"user\", [\"getUserStudies\", \"getUserRol\", \"getUserId\"]),\n    ...mapGetters(\"share\", [\"getUsersIHaveAccessTo\"])\n  },\n  methods: {\n    handleSelecStudy(studyId) {\n      this.studySelected = studyId;\n\n      if (this.getUserRol == \"doctor\" || this.getUserRol == \"superAdmin\") {\n        this.$router.push(`/patients/${studyId}`);\n      } else {\n        this.$router.push({\n          name: \"healthUser\",\n          query: {\n            studyId,\n            userId: this.getUserId\n          }\n        });\n      }\n    }\n\n  },\n\n  mounted() {\n    if (this.getUserStudies.length == 1) {\n      if (this.getUserRol == \"user\") {\n        this.$router.push({\n          name: \"healthUser\",\n          query: {\n            studyId: this.getUserStudies[0],\n            userId: this.getUserId\n          }\n        });\n      } else {\n        this.$router.push(`/patients/${this.getUserStudies[0]}`);\n      }\n    }\n  },\n\n  beforeRouteEnter(to, from, next) {\n    Promise.all([store.dispatch(\"user/FetchUserRolesAndStudies\")], store.dispatch(\"share/FetchUsersIHaveAccessTo\")).then(() => {\n      next();\n    });\n  }\n\n};","map":{"version":3,"sources":["/Users/chrislim/Desktop/USC/Senior Fall/CSCI401/CardinalKit-Web-Dashboard/cardinal-kit-web/src/views/studies/studiesList.vue"],"names":[],"mappings":";AAYA,SAAS,UAAT,EAAqB,UAArB,QAAuC,MAAvC;AACA,OAAO,KAAP,MAAkB,SAAlB,C,CAEA;;AACA,OAAO,SAAP,MAAsB,kCAAtB;AACA,OAAO,UAAP,MAAuB,+BAAvB;AAEA,eAAe;EACb,IAAI,EAAE,MADO;EAEb,UAAU,EAAE;IACV,SADU;IAEV;EAFU,CAFC;EAMb,QAAQ,EAAE,EACR,GAAG,UAAU,CAAC,MAAD,EAAS,CAAC,gBAAD,EAAkB,YAAlB,EAA+B,WAA/B,CAAT,CADL;IAER,GAAG,UAAU,CAAC,OAAD,EAAS,CAAC,uBAAD,CAAT;EAFL,CANG;EAUb,OAAO,EAAE;IACP,gBAAgB,CAAC,OAAD,EAAU;MACxB,KAAK,aAAL,GAAqB,OAArB;;MAEA,IAAI,KAAK,UAAL,IAAmB,QAAnB,IAA+B,KAAK,UAAL,IAAiB,YAApD,EAAkE;QAChE,KAAK,OAAL,CAAa,IAAb,CAAmB,aAAY,OAAQ,EAAvC;MAEF,CAHA,MAGO;QACL,KAAK,OAAL,CAAa,IAAb,CAAkB;UAAE,IAAI,EAAE,YAAR;UAAsB,KAAK,EAAE;YAAC,OAAD;YAAU,MAAM,EAAE,KAAK;UAAvB;QAA7B,CAAlB;MACF;IACD;;EAVM,CAVI;;EAsBb,OAAO,GAAG;IACR,IAAI,KAAK,cAAL,CAAoB,MAApB,IAA8B,CAAlC,EAAqC;MACnC,IAAI,KAAK,UAAL,IAAmB,MAAvB,EAA+B;QAC7B,KAAK,OAAL,CAAa,IAAb,CAAkB;UAAE,IAAI,EAAE,YAAR;UAAsB,KAAK,EAAE;YAAC,OAAO,EAAE,KAAK,cAAL,CAAoB,CAApB,CAAV;YAAkC,MAAM,EAAE,KAAK;UAA/C;QAA7B,CAAlB;MACF,CAFA,MAEO;QACL,KAAK,OAAL,CAAa,IAAb,CAAmB,aAAY,KAAK,cAAL,CAAoB,CAApB,CAAuB,EAAtD;MACF;IACF;EACD,CA9BY;;EA+Bb,gBAAgB,CAAC,EAAD,EAAK,IAAL,EAAW,IAAX,EAAiB;IAC/B,OAAO,CAAC,GAAR,CAAY,CACV,KAAK,CAAC,QAAN,CAAe,+BAAf,CADU,CAAZ,EAEE,KAAK,CAAC,QAAN,CAAe,+BAAf,CAFF,EAGI,IAHJ,CAGS,MAAM;MACb,IAAI;IACL,CALD;EAMD;;AAtCY,CAAf","sourcesContent":["<template>\n  <div>\n    <study-list\n      :studies=\"getUserStudies\"\n      :handleSelecStudy=\"handleSelecStudy\"\n    />\n    <extra-users v-if=\"getUsersIHaveAccessTo.length>0\"/>\n    <br />\n  </div>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from \"vuex\";\nimport store from \"@/store\";\n\n//Components\nimport studyList from \"@/components/studies/studiesList\";\nimport extraUsers from \"@/components/share/extraUsers\";\n\nexport default {\n  name: \"Home\",\n  components: {\n    studyList,\n    extraUsers,\n  },\n  computed: {\n    ...mapGetters(\"user\", [\"getUserStudies\",\"getUserRol\",\"getUserId\"]),\n    ...mapGetters(\"share\",[\"getUsersIHaveAccessTo\"]),\n  },\n  methods: {\n    handleSelecStudy(studyId) {\n      this.studySelected = studyId;\n\n      if (this.getUserRol == \"doctor\" || this.getUserRol==\"superAdmin\") {\n        this.$router.push(`/patients/${studyId}`)\n\n      } else {\n        this.$router.push({ name: \"healthUser\", query: {studyId, userId: this.getUserId}})\n      }\n    },\n  },\n  mounted() {\n    if (this.getUserStudies.length == 1) {\n      if (this.getUserRol == \"user\") {\n        this.$router.push({ name: \"healthUser\", query: {studyId: this.getUserStudies[0], userId: this.getUserId}})\n      } else {\n        this.$router.push(`/patients/${this.getUserStudies[0]}`)\n      }\n    }\n  },\n  beforeRouteEnter(to, from, next) {\n    Promise.all([\n      store.dispatch(\"user/FetchUserRolesAndStudies\")],\n      store.dispatch(\"share/FetchUsersIHaveAccessTo\")\n      ).then(() => {\n      next();\n    });\n  },\n};\n</script>"],"sourceRoot":""},"metadata":{},"sourceType":"module"}