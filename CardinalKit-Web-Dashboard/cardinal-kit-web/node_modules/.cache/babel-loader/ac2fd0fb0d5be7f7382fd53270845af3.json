{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport altTable from '@/components/tables/altTable';\nimport loadingIcon from \"@/components/loading\";\nexport default {\n  name: 'name',\n  props: {\n    patients: {\n      type: Array,\n      required: true\n    },\n    studyId: {\n      type: String,\n      required: true\n    }\n  },\n  components: {\n    altTable,\n    loadingIcon\n  },\n\n  data() {\n    return {\n      columns: [{\n        header: 'N°'\n      }, {\n        header: 'Email'\n      }, {\n        header: 'userId'\n      }, {\n        header: 'Action'\n      }, {\n        header: ''\n      }],\n      loadingId: 0,\n      currentPage: 1,\n      limit: 10\n    };\n  },\n\n  methods: {\n    handleSelecPatient(patientId) {\n      this.loadingId = patientId;\n      this.$router.push({\n        name: \"healthUser\",\n        query: {\n          studyId: this.studyId,\n          userId: patientId\n        }\n      });\n    },\n\n    handlePagination(pagination) {\n      this.currentPage = pagination.currentPage;\n      this.limit = pagination.limit;\n      let total = this.patients.length;\n\n      if (this.currentPage > Math.ceil(total / this.limit)) {\n        this.currentPage = Math.ceil(total / this.limit);\n      }\n    }\n\n  },\n  computed: {\n    paginationOptions() {\n      return {\n        limit: [10, 20],\n        total: this.patients?.length,\n        currentPage: this.currentPage\n      };\n    },\n\n    getPageItems() {\n      let items = this.patients;\n      let lowerLimit = (this.currentPage - 1) * this.limit;\n      let upperLimit = this.currentPage * this.limit;\n      return items.slice(lowerLimit, upperLimit);\n    }\n\n  }\n};","map":{"version":3,"sources":["/Users/chrislim/Desktop/USC/Senior Fall/CSCI401/CardinalKit-Web-Dashboard/cardinal-kit-web/src/components/studies/patientsList.vue"],"names":[],"mappings":";AAyBA,OAAO,QAAP,MAAqB,8BAArB;AACA,OAAO,WAAP,MAAwB,sBAAxB;AACE,eAAe;EACb,IAAI,EAAE,MADO;EAEb,KAAK,EAAE;IACL,QAAQ,EAAC;MACP,IAAI,EAAC,KADE;MAEP,QAAQ,EAAC;IAFF,CADJ;IAKL,OAAO,EAAC;MACN,IAAI,EAAC,MADC;MAEN,QAAQ,EAAC;IAFH;EALH,CAFM;EAYb,UAAU,EAAC;IACT,QADS;IAET;EAFS,CAZE;;EAgBb,IAAI,GAAE;IACJ,OAAM;MACJ,OAAO,EAAE,CAAC;QAAE,MAAM,EAAE;MAAV,CAAD,EAAmB;QAAE,MAAM,EAAE;MAAV,CAAnB,EAAwC;QAAC,MAAM,EAAE;MAAT,CAAxC,EAA2D;QAAE,MAAM,EAAE;MAAV,CAA3D,EAAgF;QAAE,MAAM,EAAE;MAAV,CAAhF,CADL;MAEJ,SAAQ,EAAI,CAFR;MAGJ,WAAW,EAAE,CAHT;MAIJ,KAAK,EAAE;IAJH,CAAN;EAMD,CAvBY;;EAwBb,OAAO,EAAE;IACP,kBAAkB,CAAC,SAAD,EAAW;MAC3B,KAAK,SAAL,GAAiB,SAAjB;MACA,KAAK,OAAL,CAAa,IAAb,CAAkB;QAAC,IAAI,EAAE,YAAP;QAAqB,KAAK,EAAE;UAAC,OAAO,EAAE,KAAK,OAAf;UAAwB,MAAM,EAAE;QAAhC;MAA5B,CAAlB;IACD,CAJM;;IAKP,gBAAgB,CAAC,UAAD,EAAa;MAC3B,KAAK,WAAL,GAAiB,UAAU,CAAC,WAA5B;MACA,KAAK,KAAL,GAAW,UAAU,CAAC,KAAtB;MACA,IAAI,KAAI,GAAI,KAAK,QAAL,CAAc,MAA1B;;MACA,IAAG,KAAK,WAAL,GAAmB,IAAI,CAAC,IAAL,CAAU,KAAK,GAAC,KAAK,KAArB,CAAtB,EAAkD;QAChD,KAAK,WAAL,GAAmB,IAAI,CAAC,IAAL,CAAU,KAAK,GAAC,KAAK,KAArB,CAAnB;MACF;IACD;;EAZM,CAxBI;EAsCb,QAAQ,EAAC;IACP,iBAAiB,GAAG;MAClB,OAAO;QACL,KAAK,EAAE,CAAC,EAAD,EAAK,EAAL,CADF;QAEL,KAAK,EAAE,KAAK,QAAL,EAAe,MAFjB;QAGL,WAAW,EAAE,KAAK;MAHb,CAAP;IAKD,CAPM;;IAQP,YAAY,GAAG;MACb,IAAI,KAAI,GAAI,KAAK,QAAjB;MACA,IAAI,UAAS,GAAI,CAAC,KAAK,WAAL,GAAmB,CAApB,IAAyB,KAAK,KAA/C;MACA,IAAI,UAAS,GAAI,KAAK,WAAL,GAAmB,KAAK,KAAzC;MACA,OAAO,KAAK,CAAC,KAAN,CAAY,UAAZ,EAAwB,UAAxB,CAAP;IACD;;EAbM;AAtCI,CAAf","sourcesContent":["<template>\n  <div class=\"page\">\n    <h1 class=\"mb-5 text-muted\">Patients</h1>\n    <alt-table :columns=\"columns\" pagination :paginationOptions=\"paginationOptions\" @onPagination=\"handlePagination\">\n      <template #t-row>\n        <tr v-for=\"(patient, index) in getPageItems\" :key=\"patient.id\">\n          <td>{{index + 1}}</td>\n          <td>\n            {{patient.email || 'NN'}}\n          </td>\n          <td>\n            {{patient.id || 'NN'}}\n          </td>\n          <td>\n            <loading-icon v-if=\"loadingId == patient.id\" size=\"3px\"/>\n            <span v-else class=\"pointer btn-view\" @click=\"handleSelecPatient(patient.id)\">\n              View\n            </span>\n          </td>\n        </tr>\n      </template>\n    </alt-table>\n  </div>\n</template>\n<script>\nimport altTable from '@/components/tables/altTable';\nimport loadingIcon from \"@/components/loading\";\n  export default {\n    name: 'name',\n    props: {\n      patients:{\n        type:Array,\n        required:true\n      },\n      studyId:{\n        type:String,\n        required:true\n      }\n    },\n    components:{\n      altTable,\n      loadingIcon,\n    },\n    data(){\n      return{\n        columns: [{ header: 'N°' }, { header: 'Email' } ,{header: 'userId'},{ header: 'Action' },{ header: '' }],\n        loadingId : 0,\n        currentPage: 1,\n        limit: 10,\n      }\n    },\n    methods: {\n      handleSelecPatient(patientId){\n        this.loadingId = patientId\n        this.$router.push({name: \"healthUser\", query: {studyId: this.studyId, userId: patientId }})\n      }, \n      handlePagination(pagination) {\n        this.currentPage=pagination.currentPage\n        this.limit=pagination.limit\n        let total = this.patients.length\n        if(this.currentPage > Math.ceil(total/this.limit)){\n          this.currentPage = Math.ceil(total/this.limit)\n        }\n      },\n    },\n    computed:{\n      paginationOptions() {\n        return {\n          limit: [10, 20],\n          total: this.patients?.length,\n          currentPage: this.currentPage,\n        };\n      },\n      getPageItems() {\n        let items = this.patients;\n        let lowerLimit = (this.currentPage - 1) * this.limit;\n        let upperLimit = this.currentPage * this.limit;\n        return items.slice(lowerLimit, upperLimit);\n      },\n    }\n  };\n</script>\n<style lang=\"scss\" scoped>\n  .btn-view{\n    padding: 0.4rem 1.8em;\n    background: #b71540;\n    color: white;\n  }\n</style>"],"sourceRoot":""},"metadata":{},"sourceType":"module"}