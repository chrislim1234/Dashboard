{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { mapActions, mapGetters } from \"vuex\";\n/* import Header from \"@/components/auth/Header\"; */\n\nimport Sidebar from \"@/components/auth/sidebar/index.vue\";\nexport default {\n  components: {\n    /*   Header, */\n    Sidebar\n  },\n  data: function () {\n    return {\n      logo: require(\"@/assets/logo.png\")\n    };\n  },\n  computed: { ...mapGetters(\"user\", [\"getUserRol\"]),\n\n    menu() {\n      let main = [{\n        name: \"Studies\",\n        route: \"/\"\n      }];\n\n      if (this.getUserRol == \"superAdmin\") {\n        main.push({\n          name: \"Register doctors\",\n          route: \"/register\"\n        });\n      }\n\n      if (this.getUserRol == \"superAdmin\" || this.getUserRol == \"doctor\") {\n        if (this.$route.params.studyId) {\n          main[0].children = [{\n            name: \"Patients\",\n            route: `/patients/${this.$route.params.studyId}`\n          }, {\n            name: \"Surveys\",\n            route: `/surveysList/${this.$route.params.studyId}`\n          }];\n        }\n\n        if (this.$route.query.studyId) {\n          main[0].children = [{\n            name: \"Patients\",\n            route: `/patients/${this.$route.query.studyId}`\n          }, {\n            name: \"Surveys\",\n            route: `/surveysList/${this.$route.query.studyId}`\n          }];\n        }\n      } else {\n        console.log(\"else\");\n\n        if (this.$route.params.studyId) {\n          main.push({\n            name: \"Share User Info\",\n            route: `/share/${this.$route.params.studyId}`\n          });\n        } else if (this.$route.query.studyId) {\n          main.push({\n            name: \"Share User Info\",\n            route: `/share/${this.$route.query.studyId}`\n          });\n        }\n      }\n\n      return main;\n    }\n\n  },\n  methods: { ...mapActions(\"auth\", [\"Logout\"]),\n\n    handleLogout() {\n      this.Logout().then(() => {\n        console.log(\"Called Logout\");\n        this.$router.push(\"Login\");\n      });\n    }\n\n  }\n};","map":{"version":3,"sources":["/Users/chrislim/Desktop/USC/Senior Fall/CSCI401/CardinalKit-Web-Dashboard/cardinal-kit-web/src/common/layout/Main.vue"],"names":[],"mappings":";AAgBA,SAAS,UAAT,EAAqB,UAArB,QAAuC,MAAvC;AACA;;AACA,OAAO,OAAP,MAAoB,qCAApB;AACA,eAAe;EACb,UAAU,EAAE;IACZ;IACE;EAFU,CADC;EAKb,IAAI,EAAE,YAAW;IACf,OAAO;MACL,IAAI,EAAE,OAAO,CAAC,mBAAD;IADR,CAAP;EAGD,CATY;EAUb,QAAQ,EAAE,EACR,GAAG,UAAU,CAAC,MAAD,EAAS,CAAC,YAAD,CAAT,CADL;;IAER,IAAI,GAAG;MACL,IAAI,IAAG,GAAI,CACT;QAAE,IAAI,EAAE,SAAR;QAAmB,KAAK,EAAE;MAA1B,CADS,CAAX;;MAGA,IAAI,KAAK,UAAL,IAAmB,YAAvB,EAAqC;QACnC,IAAI,CAAC,IAAL,CAAU;UAAE,IAAI,EAAE,kBAAR;UAA4B,KAAK,EAAE;QAAnC,CAAV;MACF;;MACA,IAAI,KAAK,UAAL,IAAmB,YAAnB,IAAmC,KAAK,UAAL,IAAmB,QAA1D,EACC;QACC,IAAI,KAAK,MAAL,CAAY,MAAZ,CAAmB,OAAvB,EAA+B;UAC7B,IAAI,CAAC,CAAD,CAAJ,CAAQ,QAAR,GAAmB,CACjB;YACE,IAAI,EAAE,UADR;YAEE,KAAK,EAAG,aAAY,KAAK,MAAL,CAAY,MAAZ,CAAmB,OAAQ;UAFjD,CADiB,EAKjB;YACE,IAAI,EAAE,SADR;YAEE,KAAK,EAAG,gBAAe,KAAK,MAAL,CAAY,MAAZ,CAAmB,OAAQ;UAFpD,CALiB,CAAnB;QAUF;;QACA,IAAI,KAAK,MAAL,CAAY,KAAZ,CAAkB,OAAtB,EAA8B;UAC1B,IAAI,CAAC,CAAD,CAAJ,CAAQ,QAAR,GAAmB,CACnB;YACE,IAAI,EAAE,UADR;YAEE,KAAK,EAAG,aAAY,KAAK,MAAL,CAAY,KAAZ,CAAkB,OAAQ;UAFhD,CADmB,EAKnB;YACE,IAAI,EAAE,SADR;YAEE,KAAK,EAAG,gBAAe,KAAK,MAAL,CAAY,KAAZ,CAAkB,OAAQ;UAFnD,CALmB,CAAnB;QAUJ;MACF,CA1BA,MA2BI;QACF,OAAO,CAAC,GAAR,CAAY,MAAZ;;QACC,IAAI,KAAK,MAAL,CAAY,MAAZ,CAAmB,OAAvB,EAA+B;UAC7B,IAAI,CAAC,IAAL,CAAU;YAAE,IAAI,EAAE,iBAAR;YAA2B,KAAK,EAAG,UAAS,KAAK,MAAL,CAAY,MAAZ,CAAmB,OAAQ;UAAvE,CAAV;QACF,CAFA,MAGK,IAAI,KAAK,MAAL,CAAY,KAAZ,CAAkB,OAAtB,EAA8B;UACjC,IAAI,CAAC,IAAL,CAAU;YAAE,IAAI,EAAE,iBAAR;YAA2B,KAAK,EAAG,UAAS,KAAK,MAAL,CAAY,KAAZ,CAAkB,OAAQ;UAAtE,CAAV;QACF;MAEH;;MACA,OAAO,IAAP;IACF;;EA/CQ,CAVG;EA2Db,OAAO,EAAE,EACP,GAAG,UAAU,CAAC,MAAD,EAAS,CAAC,QAAD,CAAT,CADN;;IAEP,YAAY,GAAG;MACb,KAAK,MAAL,GAAc,IAAd,CAAmB,MAAM;QACvB,OAAO,CAAC,GAAR,CAAY,eAAZ;QACA,KAAK,OAAL,CAAa,IAAb,CAAkB,OAAlB;MACD,CAHD;IAID;;EAPM;AA3DI,CAAf","sourcesContent":["<template>\n  <div class=\"flex sidebar\">\n      <Sidebar\n        :menu=\"menu\"\n        :className=\"'h-auto bg-danger'\"\n        :logo=\"logo\"\n        logout\n        @handle-logout=\"handleLogout\"\n      />\n    <div class=\"w-100\">\n      <router-view />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from \"vuex\";\n/* import Header from \"@/components/auth/Header\"; */\nimport Sidebar from \"@/components/auth/sidebar/index.vue\";\nexport default {\n  components: {\n  /*   Header, */\n    Sidebar\n  },\n  data: function() {\n    return {\n      logo: require(\"@/assets/logo.png\"),\n    };\n  },\n  computed: {\n    ...mapGetters(\"user\", [\"getUserRol\"]),\n    menu() {\n      let main = [\n        { name: \"Studies\", route: \"/\" },\n      ];\n      if (this.getUserRol == \"superAdmin\") {\n        main.push({ name: \"Register doctors\", route: \"/register\" });\n      }\n      if (this.getUserRol == \"superAdmin\" || this.getUserRol == \"doctor\")\n       {\n        if (this.$route.params.studyId){\n          main[0].children = [\n            {\n              name: \"Patients\",\n              route: `/patients/${this.$route.params.studyId}`,\n            },\n            {\n              name: \"Surveys\",\n              route: `/surveysList/${this.$route.params.studyId}`\n            }\n          ];\n        }\n        if (this.$route.query.studyId){\n            main[0].children = [\n            {\n              name: \"Patients\",\n              route: `/patients/${this.$route.query.studyId}`,\n            },\n            {\n              name: \"Surveys\",\n              route: `/surveysList/${this.$route.query.studyId}`\n            }\n          ];\n        }\n      }\n      else{\n        console.log(\"else\",)\n         if (this.$route.params.studyId){\n           main.push({ name: \"Share User Info\", route: `/share/${this.$route.params.studyId}` });\n         }\n         else if (this.$route.query.studyId){\n           main.push({ name: \"Share User Info\", route: `/share/${this.$route.query.studyId}` });\n         }\n        \n      }\n      return main;\n    }\n  },\n  methods: {\n    ...mapActions(\"auth\", [\"Logout\"]),\n    handleLogout() {\n      this.Logout().then(() => {\n        console.log(\"Called Logout\");\n        this.$router.push(\"Login\");\n      });\n    },\n  },\n};\n</script>\n\n<style>\n.sidebar { \n  min-height: 100vh;\n  height: 100%;\n  position: inherit;\n}\n</style>\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}